let node = [{
    name:'节点1',
    last_time: '1',
    earliest_start_time:'2019.12.02',
    earliest_finish_time:'2000.12.02',
    latest_start_time:'2019.12.02',
    latest_finish_time:'2019.12.02',
    free_time_difference:'0',
    total_time_difference:'0',
    is_key:'否',
    preName:'无',
    sufName:'节点2'
}, {
    name: '节点2',
    last_time: '1',
    earliest_start_time:'2019.12.03',
    earliest_finish_time:'2000.12.03',
    latest_start_time:'2019.12.04',
    latest_finish_time:'2019.12.04',
    free_time_difference:'1',
    total_time_difference:'1',
    is_key:'否',
    preName:'节点1',
    sufName:'节点3'
    },
    {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    },
    {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    },
    {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    }, {
        name: '节点2',
        last_time: '1',
        earliest_start_time: '2019.12.03',
        earliest_finish_time: '2000.12.03',
        latest_start_time: '2019.12.04',
        latest_finish_time: '2019.12.04',
        free_time_difference: '1',
        total_time_difference: '1',
        is_key: '否',
        preName: '节点1',
        sufName: '节点3'
    },{
    name: '节点3',
    last_time: '1',
    earliest_start_time:'2019.12.03',
    earliest_finish_time:'2000.12.03',
    latest_start_time:'2019.12.04',
    latest_finish_time:'2019.12.04',
    free_time_difference:'1',
    total_time_difference:'1',
    is_key:'是',
    preName:['节点1','节点2','节点3'],
    sufName:'节点3'
}]



function addEle(name, pre_item, suc_item,last_time, earliest_start_time,earliest_finish_time,latest_start_time,latest_finish_time,free_time_difference,total_time_difference,is_key) {
    let $row = $("<tr></tr>");
    $row.append($("<td>"+name+"</td>"));
    $row.append($("<td>"+pre_item+"</td>"));
    $row.append($("<td>"+suc_item+"</td>"));
    $row.append($("<td>"+last_time+"</td>"));
    $row.append($("<td>"+earliest_start_time+"</td>"));
    $row.append($("<td>"+earliest_finish_time+"</td>"));
    $row.append($("<td>"+latest_start_time+"</td>"));
    $row.append($("<td>"+latest_finish_time+"</td>"));
    $row.append($("<td>"+free_time_difference+"</td>"));
    $row.append($("<td>"+total_time_difference+"</td>"));
    $row.append($("<td>"+is_key+"</td>"));
    $("#table_body").children("table").children("tbody").append($row);
}


function onSearch(searchContent){
    let search = searchContent.value;
    console.log(search);
    $("table").find("tbody tr").each(function () {
                let tableTr = $(this);
                let TrValue = tableTr.children("td:first").text();
                console.log(TrValue);
                if (!TrValue.match(search)) {
                    tableTr.hide();
                }
                else {
                    tableTr.show();
                }
            }
    );
}   


$(document).ready(function () {

    node.forEach(function (v) {
        addEle(v.name, v.preName, v.sufName,v.last_time,v.earliest_start_time,v.earliest_finish_time,v.latest_start_time,v.latest_finish_time,v.free_time_difference,v.total_time_difference,v.is_key);
    });
});


$(document).on('blur', '#search', function () {
        onSearch(this);

    });


